The user input `class_code` is passed to the `class_seats` function and being used to execute the SQL command. Then `class_code` is sanitized by calling `escape` on it and added to the `output`. After that `output` is returned to the `find_classes` and then returned to the web page. Now, even if a user adds dynamic code in the `class_code`, after passing through `escape` itâ€™ll be converted to non-executable input so when it is returned to the HTML page it will not be executed. So, the code is not vulnerable to the cross-site scripting. 